[tox]
envlist = py3{9,10,11,12,13,14}

[testenv]
usedevelop = True
pip_pre = True
deps =
    build
    pip >= 21.3
    pytest >= 3.5.0
    setuptools >= 65
    setuptools_rust ~= 1.0.0
    wheel
commands =
    python -m build --no-isolation --outdir=dist --wheel
    python -m pip install --no-index --find-links=dist pykeramics
    pytest
